"use strict";(self.webpackChunkcitizen=self.webpackChunkcitizen||[]).push([[581],{992:function(e,t,o){o.r(t),o.d(t,{default:function(){return ye}});var i=o(791),a=o(144),r=o(671),n=o(340),l=o(716),s=o(956),c=function(e){(0,n.Z)(o,e);var t=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).gap=20,e.wrapper={display:"flex",flexDirection:"column",gap:e.gap,height:"100%"},e.top={display:"flex",gap:e.gap,height:"100%"},e.leftPart={display:"flex",flexDirection:"column",gap:e.gap,width:340},e.stretching={flex:1},e.dialog={height:300},e}return(0,a.Z)(o)}(s.z),d=new c,u=o(907);var g=o(181);function h(e){return function(e){if(Array.isArray(e))return(0,u.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,g.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){(0,n.Z)(o,e);var t=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).wrapper={transition:e.variablesProportions.transition},e}return(0,a.Z)(o,[{key:"color",value:function(e){return{background:this.variablesColors.getColor(e)}}}]),o}(s.z),f=new E,p=o(885),S=function(e,t){var o=(0,i.useState)(0),a=(0,p.Z)(o,2),r=a[0],n=a[1];return[r,function(){r>0&&n((function(e){return e-1}))},function(){(r*e||e)<t&&n((function(e){return e+1}))},function(){n(0)},n,t/e]},D=function(e,t){var o=(0,i.useRef)(!1);(0,i.useEffect)((function(){o.current?e():o.current=!0}),t)},L=(0,a.Z)((function e(){(0,r.Z)(this,e),this.useEditCurrentPage=S,this.useComponentDidUpdate=D}));function v(e){return Array.isArray(e)?e.flat():[e]}var m,A=(0,a.Z)((function e(){(0,r.Z)(this,e),this.getArray=v,this.getStringCurrentTime=function(){var e=new Date,t="".concat(e.getDate(),"-").concat(e.getMonth(),"-").concat(e.getFullYear()),o="".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds());return"".concat(t," ").concat(o)}()})),C=new((0,a.Z)((function e(){(0,r.Z)(this,e),this.hooks=void 0,this.utils=void 0,this.hooks=new L,this.utils=new A}))),I=o(444),k=o(570),y=(0,I.Pi)((function(e){var t=e.children,o=e.color,i=void 0===o?{color:"NEUTRAL",shard:"NEUTRAL_9"}:o,a=e.extStyle;return(0,k.tZ)("div",{css:[f.wrapper,f.color(i)].concat(h(C.utils.getArray(a)),[""]),children:t})})),T=function(e){(0,n.Z)(o,e);var t=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).wrapper={display:"flex",flexDirection:"column",position:"relative",borderRadius:e.variablesProportions.radius,overflow:"hidden"},e.image={flex:1,overflow:"hidden",position:"absolute",left:0,right:0,top:0,bottom:150,"& img":{height:"100%",width:"100%",objectFit:"cover"}},e.speaker={position:"absolute",left:0,right:0,bottom:0,height:150,padding:10,borderTop:"2px solid ".concat(e.variablesColors.getColor({color:"BLUE",shard:"LIGHT"}))},e}return(0,a.Z)(o)}(s.z),N=new T,Z=o(683),W=function(e){(0,n.Z)(o,e);var t=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).wrapper={transition:e.variablesProportions.transition},e}return(0,a.Z)(o,[{key:"color",value:function(e){return{color:this.variablesColors.getColor(e)}}},{key:"font",value:function(e){return(0,Z.Z)({},this.variablesFonts.fontsConfig(e))}}]),o}(s.z),R=new W,O=o(412),w=o(286),F=(0,I.Pi)((function(e){var t=e.text,o=e.color,i=void 0===o?{color:"NEUTRAL",shard:"NEUTRAL_1"}:o,a=e.font,r=void 0===a?{fontSize:"BODY",fontWeight:"NORMAL"}:a,n=e.caseWord,l=e.noLocalization,s=e.extStyle;return(0,k.tZ)("span",{css:[R.wrapper,R.color(i),R.font(r)].concat(h(C.utils.getArray(s)),[""]),children:function(e){var t=l?String(e):function(e){return String(e in O.a.allLanguageWord?w.Z.language.service.getText(e):e)}(e);if(!n)return t;switch(n){case"CAPITAL":return t.toUpperCase();case"SMALL":return t.toLowerCase()}}(t)})})),b=function(e){var t=e.image,o=e.speakerText,i=e.extStyle;return(0,k.BX)(y,{extStyle:[N.wrapper,i],children:[(0,k.tZ)("div",{css:N.image,children:(0,k.tZ)("img",{src:t})}),(0,k.tZ)(y,{extStyle:N.speaker,color:{color:"NEUTRAL",shard:"NEUTRAL_8"},children:(0,k.tZ)(F,{text:o})})]})},_=(0,i.memo)(b),M=function(e){(0,n.Z)(o,e);var t=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).border=3,e.padding=12,e.wrapper={padding:e.padding,borderRadius:e.variablesProportions.radius,margin:"".concat(e.border,"px"),overflow:"overlay","&::-webkit-scrollbar-track":{margin:e.padding}},e}return(0,a.Z)(o,[{key:"color",value:function(e){return{outline:"solid ".concat(this.border,"px ").concat(this.variablesColors.getColor(e,.5))}}}]),o}(s.z),P=new M,U=(0,I.Pi)((function(e){var t=e.children,o=e.color,i=void 0===o?{color:"NEUTRAL",shard:"NEUTRAL_9"}:o,a=e.extStyle;return(0,k.tZ)(y,{extStyle:[P.wrapper,P.color(i),a],children:t})})),H=function(e){(0,n.Z)(o,e);var t=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).wrapper={border:"none",padding:0,transition:e.variablesProportions.fastTransition,cursor:"pointer"},e}return(0,a.Z)(o,[{key:"color",value:function(e,t){return{background:this.variablesColors.getColor(e),"&:hover":{background:this.variablesColors.getColor(t||e)}}}}]),o}(s.z),x=new H,G=function(e){var t=e.children,o=e.onClick,i=e.color,a=void 0===i?{color:"NEUTRAL",shard:"NEUTRAL_9"}:i,r=e.hoverColor,n=e.extStyle;return(0,k.tZ)("button",{onClick:o,css:[x.wrapper,x.color(a,r)].concat(h(C.utils.getArray(n)),[""]),children:t})},V=function(e){(0,n.Z)(o,e);var t=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).wrapper={paddingLeft:0,paddingRight:0,padding:0},e.line={display:"flex",width:"100%",padding:"20px 10px"},e}return(0,a.Z)(o)}(s.z),K=new V,Y=function(e){var t=e.speech,o=e.setLocate,i=e.extStyle;return(0,k.tZ)(U,{extStyle:[K.wrapper,i],children:t.map((function(e,t){return(0,k.BX)(G,{onClick:function(){return o(e)},extStyle:K.line,hoverColor:{color:"BLUE",shard:"DARK"},children:[(0,k.tZ)(F,{text:"".concat(t+1,".\u2800")}),(0,k.tZ)(F,{text:e.dialogLine})]},e.dialogLine)}))})},z=(0,a.Z)((function e(){(0,r.Z)(this,e),this.save={date:{year:1e3,day:4,week:5,minute:45,hour:12,month:10}}})),B=(0,a.Z)((function e(){(0,r.Z)(this,e),this.services=void 0,this.services=new z})),j=o(98),X=function(){function e(t){(0,r.Z)(this,e),this.currentLocate=void 0,this.currentLocate=t.locate,(0,j.ky)(this)}return(0,a.Z)(e,[{key:"getCurrentLocate",value:function(){return this.currentLocate}},{key:"setCurrentLocate",value:function(e){this.currentLocate=e}}]),e}(),J=(0,a.Z)((function e(t){(0,r.Z)(this,e),this.store=void 0,this.store=new X(t)})),q={minute:30,hour:12,day:2,week:4,month:5,year:578},Q=o(413),$={day:{1:Q.S.EDayOfTheWeekWord.ESD,2:Q.S.EDayOfTheWeekWord.SHR,3:Q.S.EDayOfTheWeekWord.MOS,4:Q.S.EDayOfTheWeekWord.SHM,5:Q.S.EDayOfTheWeekWord.FLD},week:{1:Q.S.EWeekWord.ESD,2:Q.S.EWeekWord.SHR,3:Q.S.EWeekWord.MOS,4:Q.S.EWeekWord.SHM,5:Q.S.EWeekWord.FLD,6:Q.S.EWeekWord.FLD},month:{1:Q.S.EMonthWord.ESD,2:Q.S.EMonthWord.SHR,3:Q.S.EMonthWord.MOS,4:Q.S.EMonthWord.SHM,5:Q.S.EMonthWord.FLD,6:Q.S.EMonthWord.GFH,7:Q.S.EMonthWord.TYU,8:Q.S.EMonthWord.GHJ,9:Q.S.EMonthWord.LFG,10:Q.S.EMonthWord.TES}},ee={max:24,start:0},te={max:5,start:1},oe={max:6,start:1},ie={max:10,start:1},ae=function(){function e(){(0,r.Z)(this,e),this.currentTimes=q,this.dateLists=$,(0,j.ky)(this)}return(0,a.Z)(e,[{key:"getDays",value:function(){return this.dateLists.day}},{key:"getCurrentDate",value:function(){return this.currentTimes}},{key:"getNameDay",value:function(e){return this.dateLists.day[e]}},{key:"setTime",value:function(e){this.currentTimes=e}},{key:"addTime",value:function(e){for(var t=e;t>=60;t-=60)this.addHours();this.currentTimes.minute=t}},{key:"addHours",value:function(){this.currentTimes.hour=this.addCount(this.currentTimes.hour,ee.max,ee.start,this.addDay)}},{key:"addDay",value:function(){this.currentTimes.day=this.addCount(this.currentTimes.day,te.max,te.start,this.addWeek)}},{key:"addWeek",value:function(){this.currentTimes.week=this.addCount(this.currentTimes.week,oe.max,oe.start,this.addMonth)}},{key:"addMonth",value:function(){this.currentTimes.month=this.addCount(this.currentTimes.month,ie.max,ie.start,this.addYears)}},{key:"addYears",value:function(){this.currentTimes.year+=1}},{key:"addCount",value:function(e,t,o,i){return e+1>=t?(i.call(this),o):e+1}}]),e}(),re=(0,a.Z)((function e(){(0,r.Z)(this,e),this.store=void 0,this.store=new ae})),ne=(0,a.Z)((function e(){(0,r.Z)(this,e)})),le=(0,a.Z)((function e(){(0,r.Z)(this,e),this.services=void 0,this.services=new ne})),se=(0,a.Z)((function e(){(0,r.Z)(this,e),this.times=void 0,this.sound=void 0,this.times=new re,this.sound=new le})),ce=(new se,(0,a.Z)((function e(){(0,r.Z)(this,e)}))),de=(0,a.Z)((function e(){(0,r.Z)(this,e)})),ue=(0,a.Z)((function e(){(0,r.Z)(this,e),this.enemies=void 0,this.items=void 0,this.enemies=new ce,this.items=new de})),ge=(new ue,o(871)),he=o.p+"static/media/downtown.2f9b06833f89854c50bb.jpg",Ee=o.p+"static/media/eastWall.a944a27a911665f5bfc7.jpg",fe=o.p+"static/media/outskirts.5b7c0d666b8d764e74e4.jpg",pe=o.p+"static/media/temple.971cf9f6062f14124ae7.jpg";!function(e){var t;!function(e){e.START="START",e.GO_WALK="GO_WALK",e.CHOICE_PLACE="CHOICE_PLACE",e.CHOICE_TIMES="CHOICE_TIMES",e.GAME_OVER="GAME_OVER",e.CHOICES="CHOICES",e.GAME_PASSED="GAME_PASSED"}(t||(t={})),e.IFarundDialogName=t}(m||(m={}));var Se=ge.e.EWordSpeaker,De=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"START",value:function(){return{image:fe,speaker:ge.e.EWordSpeaker.YOU_LIKE_COMMUNYTY,dialog:[{dialogLine:ge.e.EWordDialog.YEAP,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.GO_WALK}},{dialogLine:ge.e.EWordDialog.NOPE,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.GAME_OVER}},{dialogLine:ge.e.EWordDialog.SILIENCE,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES,options:{speaker:Se.OH_OKAY}}}]}}},{key:"GO_WALK",value:function(){return{image:fe,speaker:ge.e.EWordSpeaker.GO_WALK,dialog:[{dialogLine:ge.e.EWordDialog.I_AGREE,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES}},{dialogLine:ge.e.EWordDialog.GET_OUT,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.GAME_OVER}}]}}},{key:"CHOICES",value:function(){return{image:fe,speaker:ge.e.EWordSpeaker.CHOICES,dialog:[{dialogLine:ge.e.EWordDialog.GO_CHOICE_PLACE,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICE_PLACE},disable:!!ke.getStore().getPlace()},{dialogLine:ge.e.EWordDialog.GO_CHOICE_TIMES,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICE_TIMES},disable:!!ke.getStore().getTimes()},{dialogLine:ge.e.EWordDialog.I_DONT_WALK,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.GAME_OVER}}].filter((function(e){return!e.disable}))}}},{key:"CHOICE_PLACE",value:function(){var e=pe,t=ge.e.EWordSpeaker.CHOICING_PLACE,o=[{dialogLine:ge.e.EWordDialog.CATS,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setPlace(ge.e.EWordDialog.CATS)}},{dialogLine:ge.e.EWordDialog.KAFE,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setPlace(ge.e.EWordDialog.KAFE)}},{dialogLine:ge.e.EWordDialog.PARK,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setPlace(ge.e.EWordDialog.PARK)}},{dialogLine:ge.e.EWordDialog.PARK_ATTRACTIONS,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setPlace(ge.e.EWordDialog.PARK_ATTRACTIONS)}},{dialogLine:ge.e.EWordDialog.RESTORAN_OSTANKINO,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setPlace(ge.e.EWordDialog.RESTORAN_OSTANKINO)}},{dialogLine:ge.e.EWordDialog.YOUR_DREEM,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.GAME_OVER}}];return o.forEach((function(e,t){o[t].path.dialog!==m.IFarundDialogName.GAME_OVER&&(ke.getStore().getTimes()?o[t].path.dialog=m.IFarundDialogName.GAME_PASSED:o[t].path.options={speaker:ge.e.EWordSpeaker.AND_TIMES})})),{image:e,speaker:t,dialog:o}}},{key:"CHOICE_TIMES",value:function(){var e=he,t=ge.e.EWordSpeaker.CHOICING_TIMES,o=[{dialogLine:ge.e.EWordDialog.GO_CURRENT_DAY,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setTimes(ge.e.EWordDialog.GO_CURRENT_DAY)}},{dialogLine:ge.e.EWordDialog.PN,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setTimes(ge.e.EWordDialog.PN)}},{dialogLine:ge.e.EWordDialog.VT,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setTimes(ge.e.EWordDialog.VT)}},{dialogLine:ge.e.EWordDialog.SR,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setTimes(ge.e.EWordDialog.SR)}},{dialogLine:ge.e.EWordDialog.CHT,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setTimes(ge.e.EWordDialog.CHT)}},{dialogLine:ge.e.EWordDialog.PT,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setTimes(ge.e.EWordDialog.PT)}},{dialogLine:ge.e.EWordDialog.SB,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setTimes(ge.e.EWordDialog.SB)}},{dialogLine:ge.e.EWordDialog.VS,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.CHOICES},callback:function(){ke.getStore().setTimes(ge.e.EWordDialog.VS)}},{dialogLine:ge.e.EWordDialog.I_DONT_WALK,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.GAME_OVER}}];return o.forEach((function(e,t){o[t].path.dialog!==m.IFarundDialogName.GAME_OVER&&(ke.getStore().getPlace()?o[t].path.dialog=m.IFarundDialogName.GAME_PASSED:o[t].path.options={speaker:ge.e.EWordSpeaker.AND_PLACE})})),{image:e,speaker:t,dialog:o}}},{key:"GAME_OVER",value:function(){return{image:Ee,speaker:ge.e.EWordSpeaker.FALED,dialog:[{dialogLine:ge.e.EWordDialog.NEXT,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.GAME_OVER}}]}}},{key:"GAME_PASSED",value:function(){return{image:Ee,speaker:ge.e.EWordSpeaker.YEEEE,dialog:[{dialogLine:ge.e.EWordDialog.FINAL,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.GAME_PASSED,options:{dialog:[],speaker:ge.e.EWordSpeaker.OVER}},callback:function(){var e="https://api.telegram.org/bot".concat("1662190836:AAGFJexo_sQVuUDszhnFMuLhBRPVwT_xuJ4","/sendMessage?chat_id=").concat("-421133281","&text="),t=w.Z.language.service.getText(ke.getStore().getPlace())+" "+w.Z.language.service.getText(ke.getStore().getTimes()),o=new XMLHttpRequest;o.open("GET",e+t,!0),o.send()}},{dialogLine:ge.e.EWordDialog.NOPE,path:{loc:ge.e.ILocationList.FARUND,dialog:m.IFarundDialogName.GAME_OVER}}]}}}]),e}(),Le=function(){function e(){(0,r.Z)(this,e),this.times="",this.place=""}return(0,a.Z)(e,[{key:"setTimes",value:function(e){this.times=e}},{key:"setPlace",value:function(e){this.place=e}},{key:"getTimes",value:function(){return this.times}},{key:"getPlace",value:function(){return this.place}}]),e}(),ve=(0,a.Z)((function e(){(0,r.Z)(this,e),this.dialog=void 0,this.store=void 0,this.dialog=new De,this.store=new Le})),me=(0,a.Z)((function e(){(0,r.Z)(this,e),this.FARUND=void 0,this.FARUND=new ve})),Ae=(0,a.Z)((function e(){(0,r.Z)(this,e)})),Ce=(0,a.Z)((function e(){(0,r.Z)(this,e),this.locationsPlaces=void 0,this.locationsGraph=void 0,this.locationsPlaces=new me,this.locationsGraph=new Ae})),Ie=(0,a.Z)((function e(){(0,r.Z)(this,e),this.domains=void 0,this.lists=void 0,this.locate=void 0,this.domains=new se,this.lists=new ue,this.locate=new Ce})),ke=new(function(){function e(){(0,r.Z)(this,e),this.resources=void 0,this.hero=void 0,this.save=void 0,this.resources=new Ie,this.hero=new J({locate:this.resources.locate.locationsPlaces.FARUND.dialog.START()}),this.save=new B}return(0,a.Z)(e,[{key:"goLocations",value:function(e){var t,o=e.path,i=o.loc,a=o.dialog,r=o.options;null===(t=e.callback)||void 0===t||t.call(e),this.hero.store.setCurrentLocate((0,Z.Z)((0,Z.Z)({},this.resources.locate.locationsPlaces[i].dialog[a]()),r))}},{key:"getHeroLocation",value:function(){return this.hero.store.getCurrentLocate()}},{key:"getDays",value:function(){return this.resources.domains.times.store.getDays()}},{key:"getCurrentDate",value:function(){return this.resources.domains.times.store.getCurrentDate()}},{key:"getStore",value:function(){return this.resources.locate.locationsPlaces.FARUND.store}}]),e}()),ye=(0,I.Pi)((function(){var e=ke.getHeroLocation(),t=ke.goLocations.bind(ke);return(0,k.BX)("div",{css:d.wrapper,children:[(0,k.tZ)("div",{css:d.top,children:(0,k.tZ)(_,{extStyle:d.stretching,image:e.image,speakerText:e.speaker})}),(0,k.tZ)(Y,{extStyle:d.dialog,speech:e.dialog,setLocate:t})]})}))}}]);
//# sourceMappingURL=581.97fd6b2e.chunk.js.map